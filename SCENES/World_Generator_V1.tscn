[gd_scene load_steps=68 format=3 uid="uid://dn7khush7j3"]

[ext_resource type="Script" uid="uid://do2om7ju0h55h" path="res://SCRIPTS/World_Generator/ChunkPixelTerrain.cs" id="1_bsi5x"]
[ext_resource type="FastNoiseLite" uid="uid://bi57uv8jdf0ya" path="res://SHADER/resources/worldgennoise/PrimaryBiomeNoise.tres" id="2_gx6qx"]
[ext_resource type="Script" uid="uid://boy4f1ocq8nmv" path="res://SCRIPTS/World_Generator/BiomeData.cs" id="2_ul5h0"]
[ext_resource type="Resource" uid="uid://c8224dfi77esm" path="res://SCRIPTS/World_Generator/Biome/Biome_1.tres" id="3_a4esh"]
[ext_resource type="FastNoiseLite" uid="uid://bwbd8x15tw21j" path="res://SHADER/resources/worldgennoise/SecondaryBiomeNoise.tres" id="3_ul5h0"]
[ext_resource type="Resource" uid="uid://d3ybb58vjhgiu" path="res://SCRIPTS/World_Generator/Biome/Biome_2.tres" id="4_7eh8x"]
[ext_resource type="Script" uid="uid://5ouu4qu5gpxd" path="res://SCRIPTS/World_Generator/NavigationGrid.gd" id="4_jl6tj"]
[ext_resource type="Resource" uid="uid://6xudhupuw34g" path="res://SCRIPTS/World_Generator/Biome/Biome_3.tres" id="5_f0ktq"]
[ext_resource type="Script" uid="uid://cx7msig0if6dy" path="res://SCRIPTS/World_Generator/BuildingPlacer.gd" id="5_te0ef"]
[ext_resource type="Resource" uid="uid://bq25eibns2x5i" path="res://SCRIPTS/World_Generator/Biome/Biome_4.tres" id="6_t185i"]
[ext_resource type="Script" uid="uid://dlvnextl2ndl6" path="res://SCRIPTS/enviorment/Building_Data/BuildingData.gd" id="6_xo5mt"]
[ext_resource type="Resource" uid="uid://ckdgmknuu2ix5" path="res://SCRIPTS/World_Generator/Biome/Biome_5.tres" id="7_cljw5"]
[ext_resource type="Resource" uid="uid://k822t4ved52n" path="res://RESOURCES/Building_Res/HouseAllType/Hovel1.tres" id="7_d66sa"]
[ext_resource type="Resource" uid="uid://cqbmbtimyjcbm" path="res://SCRIPTS/World_Generator/Biome/Biome_Rock.tres" id="7_t185i"]
[ext_resource type="Resource" uid="uid://cptxi60eyuemd" path="res://SCRIPTS/World_Generator/Biome/Biome_6.tres" id="8_0a2qd"]
[ext_resource type="Resource" uid="uid://6pnro5702iow" path="res://RESOURCES/Building_Res/HouseAllType/Hovel2.tres" id="8_28e2f"]
[ext_resource type="Resource" uid="uid://drbdycqyq28ip" path="res://SCRIPTS/World_Generator/Biome/Biome_7.tres" id="9_adjln"]
[ext_resource type="Resource" uid="uid://dunmgs0i75dxk" path="res://RESOURCES/Building_Res/HouseAllType/Hovel3.tres" id="9_gx6qx"]
[ext_resource type="Resource" uid="uid://bv12dad5xb7ng" path="res://SCRIPTS/World_Generator/Biome/Biome_8.tres" id="10_4p0f6"]
[ext_resource type="Resource" uid="uid://b1gviv0q2nyi7" path="res://RESOURCES/Building_Res/HouseAllType/Hovel4.tres" id="10_ul5h0"]
[ext_resource type="Resource" uid="uid://ci4bhs168d72y" path="res://RESOURCES/Building_Res/HouseAllType/Hovel5.tres" id="11_a4esh"]
[ext_resource type="Script" uid="uid://fxrly6u7n0h7" path="res://SCRIPTS/World_Generator/EnvironmentManager.cs" id="12_ndvok"]
[ext_resource type="Resource" uid="uid://dapn6fuee5y6k" path="res://SCRIPTS/enviorment/Type_env/Type_Tree_1.tres" id="13_ndvok"]
[ext_resource type="Resource" uid="uid://copygtnplvwrt" path="res://RESOURCES/Building_Res/HouseAllType/Hovel7.tres" id="13_v4jrb"]
[ext_resource type="Resource" uid="uid://dqb1r457jj5vd" path="res://RESOURCES/Building_Res/HouseAllType/Hovel8.tres" id="14_n0uxr"]
[ext_resource type="Shader" uid="uid://ba2w3u1ornbdv" path="res://SHADER/water.gdshader" id="14_nkaxm"]
[ext_resource type="Resource" uid="uid://cvy3pchun6hv4" path="res://SCRIPTS/enviorment/Type_env/Type_Tree_2.tres" id="14_xo5mt"]
[ext_resource type="Resource" uid="uid://cdjijj82op454" path="res://RESOURCES/WorkHouse/WoordCutter/WoodCutter1.tres" id="15_ul5h0"]
[ext_resource type="Resource" uid="uid://00h2pe0ox7u4" path="res://RESOURCES/Building_Res/HouseAllType/Type_Tent_1.tres" id="25_4p0f6"]
[ext_resource type="Resource" uid="uid://pxd0d0d6wkkm" path="res://RESOURCES/Building_Res/HouseAllType/Type_Tent_2.tres" id="26_0jpg0"]
[ext_resource type="Resource" uid="uid://b4xemj4vdgs1m" path="res://SCRIPTS/enviorment/Type_env/Type_Tree_3.tres" id="27_f0ktq"]
[ext_resource type="Resource" uid="uid://h405nckjcs32" path="res://SCRIPTS/enviorment/Building_Data/Castle_Type1.tres" id="27_p1l53"]
[ext_resource type="Resource" uid="uid://dfahoieg5psxs" path="res://RESOURCES/Castle_Acc/Type_Wall_1.tres" id="28_0jpg0"]
[ext_resource type="Resource" uid="uid://cwbxae8o3ny3a" path="res://RESOURCES/Castle_Acc/Type_Wall_2.tres" id="29_3jrs1"]
[ext_resource type="Resource" uid="uid://cebwatquh854p" path="res://SCRIPTS/enviorment/Type_env/Type_Rock_1.tres" id="29_cljw5"]
[ext_resource type="Resource" uid="uid://c250qmx5r3cff" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_1.tres" id="30_kledd"]
[ext_resource type="Resource" uid="uid://ieb6alee6tgo" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_2.tres" id="31_t0ggg"]
[ext_resource type="Resource" uid="uid://ijbwst3boumn" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_3.tres" id="32_p1l53"]
[ext_resource type="Resource" uid="uid://dyem32w53faki" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_4.tres" id="33_46brh"]
[ext_resource type="Resource" uid="uid://bn2h7y6n0fgdt" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_5.tres" id="34_5yf05"]
[ext_resource type="Resource" uid="uid://di68t7msrorng" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_6.tres" id="35_5t4om"]
[ext_resource type="Resource" uid="uid://be7rmh5rkcnos" path="res://RESOURCES/Building_Res/HouseAllType/Type_House_7.tres" id="36_fo4ex"]
[ext_resource type="Resource" uid="uid://babgbxxja74f4" path="res://RESOURCES/Castle_Acc/Type_Tower_1.tres" id="37_t0ggg"]
[ext_resource type="Resource" uid="uid://c01l7peavftm3" path="res://RESOURCES/Castle_Acc/Type_Tower_2.tres" id="38_p1l53"]
[ext_resource type="Resource" uid="uid://36k31j0moaai" path="res://RESOURCES/Castle_Acc/Type_Tower_3.tres" id="39_5yf05"]
[ext_resource type="Resource" uid="uid://c1wge3t2rnhr1" path="res://RESOURCES/Castle_Acc/Type_Wall_3.tres" id="40_fo4ex"]
[ext_resource type="Resource" uid="uid://dxoekiwahkt1x" path="res://RESOURCES/Castle_Acc/Type_Wall_4.tres" id="41_h75an"]
[ext_resource type="Resource" uid="uid://rcmoi4x2tt2w" path="res://RESOURCES/Castle_Acc/Type_Wall_5.tres" id="42_56c7f"]
[ext_resource type="Resource" uid="uid://b3hv28pfckd6u" path="res://RESOURCES/Castle_Acc/Type_Wall_6.tres" id="43_a2icq"]
[ext_resource type="Script" uid="uid://dp6dberhafga5" path="res://SCRIPTS/World_Generator/WaterChunk.cs" id="44_46brh"]
[ext_resource type="Resource" uid="uid://b78jai3rgiqy7" path="res://RESOURCES/Castle_Acc/Type_Tower_4.tres" id="44_a2icq"]
[ext_resource type="Resource" uid="uid://hu3ivbxfwbv7" path="res://RESOURCES/Castle_Acc/Type_Gate_1.tres" id="45_uub18"]
[ext_resource type="Resource" uid="uid://h0f61x8i7yl3" path="res://RESOURCES/Castle_Acc/Type_Gate_2.tres" id="46_ml1bp"]
[ext_resource type="Resource" uid="uid://meotddooo6lb" path="res://RESOURCES/Castle_Acc/Type_Stone_Bridge_Right.tres" id="47_u063q"]
[ext_resource type="Resource" uid="uid://boei7at3vumw4" path="res://RESOURCES/Castle_Acc/Type_Stone_Bridge_Connector.tres" id="48_w6af6"]
[ext_resource type="Resource" uid="uid://dhy66q5c4mdrb" path="res://RESOURCES/Castle_Acc/Type_Stone_Bridge_Left.tres" id="49_ykr5g"]
[ext_resource type="Resource" uid="uid://j2kmglpt30ju" path="res://RESOURCES/Village_props/Type_Well_1.tres" id="50_ykr5g"]
[ext_resource type="Resource" uid="uid://cgor7wagr6pbm" path="res://RESOURCES/Village_props/Type_Well_2.tres" id="51_nkaxm"]

[sub_resource type="Resource" id="Resource_t185i"]
script = ExtResource("2_ul5h0")
BiomeName = "Biome_3_redo"
BiomeColor = Color(0.48235294, 0.62352943, 0.2, 1)
Threshold = -0.5800000000000001
metadata/_custom_type_script = "uid://boy4f1ocq8nmv"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ndvok"]
noise_type = 3
frequency = 0.08
fractal_octaves = 2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_a4esh"]
noise_type = 3
frequency = 0.03
fractal_octaves = 2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_nkaxm"]
noise_type = 2
frequency = 0.0056
fractal_type = 2
fractal_lacunarity = 3.07
fractal_gain = 1.455
fractal_weighted_strength = 0.92
cellular_jitter = 0.0
cellular_return_type = 0
domain_warp_enabled = true
domain_warp_type = 2
domain_warp_amplitude = 0.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_bxm4h"]
noise = SubResource("FastNoiseLite_nkaxm")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7akhy"]
render_priority = 0
shader = ExtResource("14_nkaxm")
shader_parameter/grid_size = 128.0
shader_parameter/noise_texture = SubResource("NoiseTexture2D_bxm4h")
shader_parameter/noise_tiling = Vector2(1, 1)
shader_parameter/speed = 0.1
shader_parameter/fluffiness = 0.8330000395675
shader_parameter/foam_threshold = 0.6870000326325
shader_parameter/foam_strength = 1.0
shader_parameter/foam_smoothness = 0.0
shader_parameter/base_color = Color(0.058530837, 0.47208428, 0.6457186, 1)
shader_parameter/foam_color = Color(0.9, 0.95, 1, 1)
shader_parameter/overall_opacity = 0.2230000105925

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_46brh"]
next_pass = SubResource("ShaderMaterial_7akhy")
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(0.2, 0.4, 0.8, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_m1pdk"]
noise_type = 3
frequency = 0.15
fractal_octaves = 1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a4esh"]

[node name="ChunkPixelTerrain" type="Node3D"]
transform = Transform3D(0.203, 0, 0, 0, 0.203, 0, 0, 0, 0.203, 0, 0, 0)
script = ExtResource("1_bsi5x")
ChunkSize = 64
Biomes = Array[ExtResource("2_ul5h0")]([ExtResource("3_a4esh"), ExtResource("4_7eh8x"), ExtResource("5_f0ktq"), ExtResource("7_t185i"), SubResource("Resource_t185i"), ExtResource("6_t185i"), ExtResource("7_cljw5"), ExtResource("8_0a2qd"), ExtResource("9_adjln"), ExtResource("10_4p0f6")])
PrimaryBiomeNoise = ExtResource("2_gx6qx")
SecondaryBiomeNoise = ExtResource("3_ul5h0")
HeightNoise = SubResource("FastNoiseLite_ndvok")
WaterNoise = SubResource("FastNoiseLite_a4esh")
PrimaryNoiseWeight = 0.85
SecondaryNoiseWeight = 0.585
NoiseContrast = 0.8
HeightInfluence = 0.03
WaterColor = Color(0.2, 0.4, 0.8, 1)
CustomWaterMaterial = SubResource("StandardMaterial3D_46brh")
BeachNoise = SubResource("FastNoiseLite_m1pdk")
CustomMaterial = SubResource("StandardMaterial3D_a4esh")
EnableFrustumCulling = false

[node name="NavigationGrid" type="Node3D" parent="."]
script = ExtResource("4_jl6tj")

[node name="BuildingPlacer" type="Node3D" parent="." groups=["building_placer"]]
script = ExtResource("5_te0ef")
building_data = Array[ExtResource("6_xo5mt")]([ExtResource("7_d66sa"), ExtResource("8_28e2f"), ExtResource("9_gx6qx"), ExtResource("10_ul5h0"), ExtResource("11_a4esh"), ExtResource("13_v4jrb"), ExtResource("14_n0uxr"), ExtResource("25_4p0f6"), ExtResource("26_0jpg0"), ExtResource("27_p1l53"), ExtResource("28_0jpg0"), ExtResource("29_3jrs1"), ExtResource("30_kledd"), ExtResource("31_t0ggg"), ExtResource("32_p1l53"), ExtResource("33_46brh"), ExtResource("34_5yf05"), ExtResource("35_5t4om"), ExtResource("36_fo4ex"), ExtResource("37_t0ggg"), ExtResource("38_p1l53"), ExtResource("15_ul5h0"), ExtResource("39_5yf05"), ExtResource("40_fo4ex"), ExtResource("41_h75an"), ExtResource("42_56c7f"), ExtResource("43_a2icq"), ExtResource("44_a2icq"), ExtResource("45_uub18"), ExtResource("46_ml1bp"), ExtResource("47_u063q"), ExtResource("48_w6af6"), ExtResource("49_ykr5g"), ExtResource("50_ykr5g"), ExtResource("51_nkaxm")])
current_building_index = null
snap_to_grid = null
click_cooldown = 0.0
enable_rotation = null
use_8_directions = true
rotation_snap_angle = null
preview_height = null
preview_transparency = null
show_invalid_overlay = null
invalid_modulate = null

[node name="EnvironmentManager" type="Node3D" parent="." node_paths=PackedStringArray("NavigationGridNode")]
transform = Transform3D(0.9999998, 0, 0, 0, 0.9999998, 0, 0, 0, 0.9999998, 0, 0, 0)
script = ExtResource("12_ndvok")
PropDatabase = [ExtResource("13_ndvok"), ExtResource("14_xo5mt"), ExtResource("27_f0ktq"), ExtResource("29_cljw5")]
RandomScaleVariation = 0.0
EnablePropCulling = false
NavigationGridNode = NodePath("../NavigationGrid")
DefaultPropCollisionSize = Vector2(2, 2)
EnableDebugLogging = false

[node name="water" type="Node3D" parent="."]
transform = Transform3D(0.99999994, 0, 0, 0, 0.99999994, 0, 0, 0, 0.99999994, 0, -6.6752224, 0)
script = ExtResource("44_46brh")
